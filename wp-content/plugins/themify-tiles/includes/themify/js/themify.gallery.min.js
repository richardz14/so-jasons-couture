var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,c,b){a instanceof String&&(a=String(a));for(var g=a.length,e=0;e<g;e++){var d=a[e];if(c.call(b,d,e,a))return{i:e,v:d}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,c,b,g){if(c){b=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var e=a[g];e in b||(b[e]={});b=b[e]}a=a[a.length-1];g=b[a];c=c(g);c!=g&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6-impl","es3");var ThemifyGallery={};
(function(a){ThemifyGallery={config:{fullscreen:themifyScript.lightbox.fullscreenSelector,lightbox:themifyScript.lightbox.lightboxSelector,lightboxGallery:themifyScript.lightbox.gallerySelector,lightboxContentImages:themifyScript.lightbox.lightboxContentImagesSelector,is_touch:a("body").hasClass("touch"),context:document},init:function(c){c&&"object"==typeof c&&a.extend(ThemifyGallery.config,c);if(c.extraLightboxArgs&&"object"==typeof c)for(var b in c.extraLightboxArgs)themifyScript.lightbox[b]=c.extraLightboxArgs[b];
this.parseArgs();this.doLightbox()},parseArgs:function(){a.each(themifyScript.lightbox,function(a,b){"false"==b||"true"==b?themifyScript.lightbox[a]="false"!=b:parseInt(b)?themifyScript.lightbox[a]=parseInt(b):parseFloat(b)&&(themifyScript.lightbox[a]=parseFloat(b))})},doLightbox:function(){var c=this.config.context;if("undefined"!==typeof a.fn.magnificPopup&&"undefined"!==typeof themifyScript.lightbox.lightboxOn&&(a(c).on("click",ThemifyGallery.config.lightbox,function(b){b.preventDefault();var c=
a(this);b=c.closest(".themify_builder_row, .loops-wrapper").find(".themify_lightbox > img").parent();var e=1<b.length?b.index(this):0,d=0<c.find("> a").length?c.find("> a").attr("href"):c.attr("href"),f=ThemifyGallery.getFileType(d),h="undefined"!==typeof a(this).children("img").attr("alt")?a(this).children("img").attr("alt"):a(this).attr("title"),k=ThemifyGallery.isVideo(d)?"100%":ThemifyGallery.getParam("width",d)?ThemifyGallery.getParam("width",d):"94%",l=ThemifyGallery.isVideo(d)?"100%":ThemifyGallery.getParam("height",
d)?ThemifyGallery.getParam("height",d):"100%";-1==k.indexOf("%")&&(k+="px");-1==l.indexOf("%")&&(l+="px");ThemifyGallery.isYoutube(d)&&(d=ThemifyGallery.getYoutubePath(d));if(1<b.length){var m=[];b.each(function(c,b){m.push({src:a(b).attr("href"),title:"undefined"!==typeof a(b).find("img").attr("alt")?a(b).find("img").attr("alt"):"",type:ThemifyGallery.getFileType(a(b).attr("href"))})})}else m={src:d,title:h};h=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;f={items:m,type:f,iframe:{markup:'<div class="mfp-iframe-scaler" style="max-width: '+
k+" !important; height: "+l+';"><div class="mfp-close"></div><div class="mfp-iframe-wrapper"><iframe class="mfp-iframe" '+(h?'scrolling="no" ':"")+'noresize="noresize" frameborder="0" allowfullscreen></iframe></div></div>'},callbacks:{open:function(){var b=c.data("zoom-config"),d={};b&&(b=b.split("|"),"undefined"!==typeof b[0]&&(d.width=b[0]),"undefined"!==typeof b[1]&&(d.height=b[1]),a(this.content).parent().css(d))}}};1<b.length&&a.extend(f,{gallery:{enabled:!0}});0<c.find("img").length&&a.extend(f,
{mainClass:"mfp-with-zoom",zoom:{enabled:!ThemifyGallery.config.is_touch,duration:300,easing:"ease-in-out",opener:function(){return c.find("img")}}});ThemifyGallery.isVideo(d)?f.mainClass+=" video-frame":f.mainClass+=" standard-frame";ThemifyGallery.isInIframe()?window.parent.jQuery.magnificPopup.open(f):a.magnificPopup.open(f,e)}),a(themifyScript.lightbox.contentImagesAreas,c).each(function(){var b=[],c=[];themifyScript.lightbox.lightboxContentImages&&themifyScript.lightbox.lightboxGalleryOn&&a(ThemifyGallery.config.lightboxContentImages,
a(this)).filter(function(){if(!a(this).parent().hasClass("gallery-icon")&&!a(this).hasClass("themify_lightbox")){c.push(a(this));a(this).attr("title");var e=0<a(this).next(".wp-caption-text").length?a(this).next(".wp-caption-text").html():a(this).children("img").attr("alt");b.push({src:a(this).attr("href"),title:e,type:"image"});return a(this)}}).each(function(e){if(0<c.length)a(this).on("click",function(c){c.preventDefault();var d=a(this);c={items:{src:b[e].src,title:b[e].title},type:"image"};0<
d.find("img").length&&a.extend(c,{mainClass:"mfp-with-zoom",zoom:{enabled:!ThemifyGallery.config.is_touch,duration:300,easing:"ease-in-out",opener:function(){return d.find("img")}}});ThemifyGallery.isInIframe()?window.parent.jQuery.magnificPopup.open(c):a.magnificPopup.open(c)})})}),themifyScript.lightbox.lightboxGalleryOn))a(c).on("click",ThemifyGallery.config.lightboxGallery,function(c){c.preventDefault();var b=a(ThemifyGallery.config.lightboxGallery,a(this).parent().parent().parent()),e=[];b.each(function(){var c=
a(this).attr("title");0<a(this).parent().next(".gallery-caption").length?c=a(this).parent().next(".wp-caption-text").html():0<a(this).children("img").length?c=a(this).children("img").attr("alt"):0<a(this).find(".gallery-caption").find(".entry-content").length&&(c=a(this).find(".gallery-caption").find(".entry-content").text());e.push({src:a(this).attr("href"),title:c,type:"image"})});c={gallery:{enabled:!0},items:e,mainClass:"mfp-with-zoom",zoom:{enabled:!ThemifyGallery.config.is_touch,duration:300,
easing:"ease-in-out",opener:function(c){c=a(b[c.index]);return c.is("img")?c:c.find("img")}}};ThemifyGallery.isInIframe()?window.parent.jQuery.magnificPopup.open(c,b.index(this)):a.magnificPopup.open(c,b.index(this))})},countItems:function(c){var b=this.config.context;return"lightbox"==c?a(this.config.lightbox,b).length+a(this.config.lightboxGallery,b).length+a(ThemifyGallery.config.lightboxContentImages,b).length:a(this.config.fullscreen,b).length+a(ThemifyGallery.config.lightboxContentImages,b).length},
isInIframe:function(){return"undefined"!==typeof ThemifyGallery.config.extraLightboxArgs?"undefined"!==typeof ThemifyGallery.config.extraLightboxArgs.displayIframeContentsInParent&&1==ThemifyGallery.config.extraLightboxArgs.displayIframeContentsInParent:!1},getFileType:function(a){return a.match(/\.(gif|jpg|jpeg|tiff|png)$/i)?"image":a.match(/\bajax=true\b/i)?"ajax":"#"==a.substr(0,1)?"inline":"iframe"},isVideo:function(a){return ThemifyGallery.isYoutube(a)||a.match(/vimeo\.com/i)||a.match(/\b.mov\b/i)||
a.match(/\b.swf\b/i)},isYoutube:function(a){return a.match(/youtube\.com\/watch/i)||a.match(/youtu\.be/i)},getYoutubePath:function(a){return a.match(/youtu\.be/i)?"//youtube.com/watch?v="+a.match(/youtu\.be\/([^\?]*)/i)[1]:"//youtube.com/watch?v="+ThemifyGallery.getParam("v",a)},getParam:function(a,b){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=(new RegExp("[\\?&]"+a+"=([^&#]*)")).exec(b);return null==c?"":c[1]}}})(jQuery);
