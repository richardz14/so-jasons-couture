var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");var ThemifyPageBuilder;
(function(a,b,c,d){ThemifyPageBuilder={openGallery:function(){var e=wp.media.gallery.shortcode,c;a("body").on("click",".tf-gallery-btn",function(b){b.preventDefault();var d=a(this).closest(".tb_input").find(".tf-shortcode-input");c=wp.media.frames.file_frame=wp.media({frame:"post",state:"gallery-edit",title:wp.media.view.l10n.editGalleryTitle,editing:!0,multiple:!0,selection:!1});wp.media.gallery.shortcode=function(a){var c=a.props.toJSON(),b=_.pick(c,"orderby","order");a.gallery&&_.extend(b,a.gallery.toJSON());
b.ids=a.pluck("id");c.uploadedTo&&(b.id=c.uploadedTo);b._orderbyRandom&&(b.orderby="rand");delete b._orderbyRandom;b.ids&&"post__in"===b.orderby&&delete b.orderby;_.each(wp.media.gallery.defaults,function(a,c){a===b[c]&&delete b[c]});a=new wp.shortcode({tag:"gallery",attrs:b,type:"single"});d.val(a.string());wp.media.gallery.shortcode=e;return a};c.on("update",function(a){a=wp.media.gallery.shortcode(a).string().slice(1,-1);d.val("["+a+"]")});0<a.trim(d.val()).length?(c=wp.media.gallery.edit(a.trim(d.val())),
c.state("gallery-edit").on("update",function(a){a=wp.media.gallery.shortcode(a).string().slice(1,-1);d.val("["+a+"]")})):(c.open(),a(".media-menu").find(".media-menu-item").last().trigger("click"));b.preventDefault()})},mediaUploader:function(){a("body").on("click",".tb_media_uploader",function(b){var c=a(this),d=c.data("library-type")?c.data("library-type"):"image",e=wp.media.frames.file_frame=wp.media({title:a(this).data("uploader-title"),library:{type:d},button:{text:a(this).data("uploader-button-text")},
multiple:!1});e.on("select",function(){var b=e.state().get("selection").first().toJSON();c.closest(".tb_input").find(".tb_uploader_input").val(b.url).trigger("change").parent().find(".img-placeholder").empty().html(a("<img/>",{src:b.url,width:50,height:50})).parent().show();c.closest(".tb_input").find(".tb_uploader_input_attach_id").val(b.id)});e.open();b.preventDefault()});a("body").on("click",".tb_delete_thumb",function(b){a(this).prev().empty().parent().hide();a(this).parents(".tb_input").find(".tb_uploader_input").val("");
b.preventDefault()});a("body").on("click",".insert-media",function(c){b.wpActiveEditor=a(this).data("editor")})}}})(jQuery,window,document);
